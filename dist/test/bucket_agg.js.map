{"version":3,"sources":["../../src/bucket_agg.js"],"names":["SlsBucketAggCtrl","$scope","$injector","target","bucketAggs","orderByOptions","text","value","orderOptions","getSizeOptions","console","log","requiresField","oChange","onTypeChanged","agg","settings","showOptions","type","a","query","field","templateUrl"],"mappings":";;;;;;;;;AAEA;;AACA;;;;;;;;;;+eAHA;;;;IAIaA,gB,WAAAA,gB;;;AAET,8BAAYC,MAAZ,EAAoBC,SAApB,EAA+B;AAAA;;AAAA,wIACrBD,MADqB,EACdC,SADc;;AAE3B,cAAKC,MAAL,CAAYC,UAAZ;AACAH,eAAOI,cAAP,GAAsB,CAAC,EAACC,MAAK,WAAN,EAAkBC,OAAM,QAAxB,EAAD,EAAmC,EAACD,MAAK,YAAN,EAAmBC,OAAM,OAAzB,EAAnC,CAAtB;AACAN,eAAOO,YAAP,GAAoB,CAAC,EAACF,MAAK,KAAN,EAAYC,OAAM,MAAlB,EAAD,EAA2B,EAACD,MAAK,QAAN,EAAeC,OAAM,KAArB,EAA3B,CAApB;AACAN,eAAOQ,cAAP,GAAwB,CAAC,EAACH,MAAK,UAAN,EAAiBC,OAAM,GAAvB,EAAD,EAA6B,EAACD,MAAK,GAAN,EAAUC,OAAM,GAAhB,EAA7B,EAAkD,EAACD,MAAK,GAAN,EAAUC,OAAM,GAAhB,EAAlD,EAAuE,EAACD,MAAK,GAAN,EAAUC,OAAM,GAAhB,EAAvE,EAA4F,EAACD,MAAK,GAAN,EAAUC,OAAM,GAAhB,EAA5F,EAAiH,EAACD,MAAK,IAAN,EAAWC,OAAM,IAAjB,EAAjH,EAAwI,EAACD,MAAK,IAAN,EAAWC,OAAM,IAAjB,EAAxI,EAA+J,EAACD,MAAK,IAAN,EAAWC,OAAM,IAAjB,EAA/J,CAAxB;AACAG,gBAAQC,GAAR,CAAY,cAAZ;AAN2B;AAO9B;;;;4CACmB;AAChB,mBAAO,CAAC,EAACL,MAAK,OAAN,EAAcC,OAAM,OAApB,EAA4BK,eAAc,CAAC,CAA3C,EAAD,EAA+C,EAACN,MAAK,SAAN,EAAgBC,OAAM,SAAtB,EAA/C,EAAgF,EAACD,MAAK,eAAN,EAAsBC,OAAM,cAA5B,EAA2CK,eAAc,CAAC,CAA1D,EAAhF,EAA6I,EAACN,MAAK,gBAAN,EAAuBC,OAAM,gBAA7B,EAA8CK,eAAc,CAAC,CAA7D,EAA7I,CAAP;AACH;;;2CACkB;AACf,iBAAKC,OAAL;AACA,iBAAKC,aAAL,GAAqB,YAAU;AAC3B,wBAAQb,OAAOc,GAAP,CAAWC,QAAX,GAAoB,EAApB,EAAwBf,OAAOgB,WAAP,IAAsB,CAAC,CAA/C,EAAkDhB,OAAOc,GAAP,CAAWG,IAArE;AACI,yBAAK,MAAL;AACA,yBAAK,OAAL;AACI,+BAAOC,EAAEJ,GAAF,CAAMK,KAAb;AACAD,0BAAEJ,GAAF,CAAMM,KAAN,GAAc,cAAd;AACH;;AALL;AAQH,aATD;AAUH;;;;;;AAGLrB,iBAAiBsB,WAAjB,GAA+B,0BAA/B","file":"bucket_agg.js","sourcesContent":["/*! grafana - v4.4.3 - 2017-08-07\n * Copyright (c) 2017 Torkel Ã–degaard; Licensed Apache-2.0 */\nimport {QueryCtrl} from 'app/plugins/sdk';\nimport _ from \"lodash\";\nexport class SlsBucketAggCtrl  extends QueryCtrl{\n\n    constructor($scope, $injector) {\n        super($scope,$injector);\n        this.target.bucketAggs;\n        $scope.orderByOptions=[{text:\"Doc Count\",value:\"_count\"},{text:\"Term value\",value:\"_term\"}];\n        $scope.orderOptions=[{text:\"Top\",value:\"desc\"},{text:\"Bottom\",value:\"asc\"}];\n        $scope.getSizeOptions = [{text:\"No limit\",value:\"0\"},{text:\"1\",value:\"1\"},{text:\"2\",value:\"2\"},{text:\"3\",value:\"3\"},{text:\"5\",value:\"5\"},{text:\"10\",value:\"10\"},{text:\"15\",value:\"15\"},{text:\"20\",value:\"20\"}];\n        console.log(\"SlsBucketAgg\");\n    }\n    getBucketAggTypes() {\n        return [{text:\"Terms\",value:\"terms\",requiresField:!0},{text:\"Filters\",value:\"filters\"},{text:\"Geo Hash Grid\",value:\"geohash_grid\",requiresField:!0},{text:\"Date Histogram\",value:\"date_histogram\",requiresField:!0}];\n    }\n    onChangeInternal (){\n        this.oChange;\n        this.onTypeChanged = function(){\n            switch ($scope.agg.settings={}, $scope.showOptions != !1, $scope.agg.type) {\n                case \"Time\": \n                case \"Field\": \n                    delete a.agg.query;\n                    a.agg.field = \"select field\";\n                 break; \n\n            }\n        }\n    }\n}\n\nSlsBucketAggCtrl.templateUrl = 'partials/bucket_agg.html';"]}